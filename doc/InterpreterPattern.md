# ***\*3.12.Interpreter Pattern解释器模式\****

## ***\*设计模式简述\****

  在软件开发中，会遇到有些问题多次重复出现，而且有一定的相似性和规律性。如果将它们归纳成一种简单的语言，那么这些问题实例将是该语言的一些句子，这样就可以用“编译原理”中的解释器模式来实现了。但对于满足以上特点，且对运行效率要求不是很高的应用实例，如果用解释器模式来实现，其效果是非常好的。

## ***\*3.12.1 Person, Supply实现API\****

### ***\*3.12.1.1 API描述\****

  一些工具的使用是需要权限的，并非所有人都可以使用所有工具，例如，“警卫使用警棍”就是合理的，而“建筑工使用警棍”的行为是不合理的。在农场中，存在着大量的“某人”使用“某物”的过程，对于这些行为，需要判断其合法性。

  显然的，使用大量的if语句来进行这种判断是低效且扩展性差的，因此，选择使用解释器模式来完成这种判断，使得逻辑易于理解，且增强了可扩展性，降低了耦合度。

 

| 函数名                                             | 作用                                                         |
| -------------------------------------------------- | ------------------------------------------------------------ |
| TerminalExpression.interpret(String info): boolean | TerminalExpression类所实现的interpret函数，用于判断作为参数的String是否包含在该类的set中。 |
| AndExpression.interpret(String info): boolean      | AndExpression类所实现的interpret函数，用于将传入的参数String根据语法树拆解并根据此来判断整个句子是否合法。 |
| allowUse(String info): void                        | 用来判断一个句子是否合法，即：低等级使用权限和高等级使用权限至少应满足其中之一。 |

 



### ***\*3.12.1.2类图\****

![img](file:///C:\Users\ahtly\AppData\Local\Temp\ksohtml23532\wps1.png

### ***\*3.12.1.3流程图\****

### ***\*3.12.1.4时序图\****